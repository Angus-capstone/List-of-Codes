import time
import array
import pulseio
import board

# Create a 'PulseOut' to send infrared signals on the IR transmitter @ 38KHz
pulseout = pulseio.PulseOut(board.GP17, frequency=38000, duty_cycle=2**15)

# Predefined signal to send
signal_to_send = array.array('H', [3394, 1696, 462, 1257, 436, 1258, 411, 437, 435, 412, 411, 438, 411, 1283, 411, 441, 410, 433, 435, 1260, 412, 1288, 435, 410, 435, 1261, 435, 413, 410, 435, 410, 1285, 410, 1285, 436, 412, 435, 1262, 434, 1259, 411, 437, 411, 441, 410, 1284, 434, 411, 410, 437, 411, 1284, 435, 415, 410, 435, 436, 415, 436, 409, 410, 438, 434, 415, 436, 411, 411, 435, 411, 437, 435, 415, 436, 411, 410, 437, 411, 435, 435, 413, 411, 438, 435, 411, 435, 413, 410, 439, 410, 436, 436, 414, 411, 1286, 435, 408, 411, 437, 435, 414, 411, 435, 436, 412, 434, 1261, 435, 1263, 411, 434, 411, 437, 410, 438, 434, 413, 435, 414, 435, 411, 435, 1260, 411, 438, 435, 411, 411, 437, 435, 413, 410, 437, 411, 1286, 411, 1283, 410, 439, 410, 1285, 411, 1283, 435, 413, 410, 439, 434, 1261, 434, 1260, 434, 414, 434, 1261, 410, 1286, 410, 1287, 410, 1283, 433, 417, 434, 1260, 433, 1264, 408, 1289, 407, 1286, 408, 438, 408, 443, 432, 413, 407, 1288, 432, 414, 407, 445, 432, 412, 430, 417, 406, 444, 431, 415, 406, 446, 430, 413, 406, 444, 431, 416, 405, 443, 405, 441, 405, 442, 430, 419, 405, 443, 405, 441, 405, 444, 405, 442, 404, 443, 405, 443, 404, 443, 405, 445, 404, 442, 404, 446, 403, 443, 403, 447, 404, 444, 403, 444, 402, 445, 402, 444, 403, 445, 403, 447, 402, 446, 402, 467, 378, 470, 377, 472, 377, 469, 377, 474, 377, 467, 377, 474, 377, 469, 377, 471, 352, 494, 376, 472, 376, 474, 352, 495, 352, 495, 377, 474, 352, 1340, 352, 497, 352, 1342, 352, 497, 352, 1340, 352, 497, 351, 496, 352, 1344, 350])

while True:
    print('Sending signal...')
    pulseout.send(signal_to_send)  # Send the predefined signal
    print(f"Sent: {signal_to_send}")
    time.sleep(3)  # Wait for 3 seconds before sending again
